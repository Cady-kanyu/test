(window.webpackJsonp=window.webpackJsonp||[]).push([[9,3,4,5,6],{664:function(t,e,n){var content=n(805);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("7e16bd6c",content,!0,{sourceMap:!1})},665:function(t,e,n){var content=n(807);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("1dab7780",content,!0,{sourceMap:!1})},801:function(t,e,n){"use strict";n.r(e);n(220),n(64);var o={name:"IchoComponent",props:{comment:{type:String,required:!0},index:{type:Number,required:!0}},data:function(){return{isSelect:!1,text:this.$props.comment.length>5?this.$props.comment.slice(0,4)+"…":this.$props.comment,customStyle:{top:100*Math.random()-10+"vh",left:100*Math.random()-10+"vw",transform:"rotate("+(360*Math.random()-180)+"deg)",width:26+10*Math.random()+"vw"}}},methods:{clickIcho:function(){this.isSelect=!this.isSelect,this.isSelect?(this.customStyle.top=0,this.customStyle.left=0,this.customStyle.width="100vw",this.customStyle.transform="rotate(0deg)",this.text=this.$props.comment,this.$emit("leaf-select-event",!0,this.$props.index)):this.closeIcho()},closeIcho:function(){this.isSelect=!1,this.customStyle={top:100*Math.random()-10+"vh",left:100*Math.random()-10+"vw",transform:"rotate("+360*Math.random()+"deg)",width:26+10*Math.random()+"vw"},this.text=this.$props.comment.length>5?this.$props.comment.slice(0,4)+"…":this.$props.comment,this.$emit("leaf-select-event",!1,this.$props.index)}}},r=(n(804),n(70)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{class:{"is-select":t.isSelect}},[e("div",{staticClass:"icho",style:{left:t.customStyle.left,top:t.customStyle.top,transform:t.customStyle.transform,width:t.customStyle.width},on:{click:t.clickIcho}},[e("img",{attrs:{src:"icho.png",alt:"",srcset:""}}),t._v(" "),e("span",{staticClass:"text-area"},[t._v(t._s(t.text))])])])}),[],!1,null,"3c2cb8bd",null);e.default=component.exports},802:function(t,e,n){"use strict";n.r(e);var o=n(846),r=n(845),c=(n(41),n(37),n(43),n(10),n(62),n(38),n(63),n(26)),l=(n(220),n(71),n(72),n(663)),d=n.n(l),h=n(809);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={top:"60vh",left:"30vw",transform:"rotate(10deg)",width:"40vw"},j={mgpqhc:"thread_1",kegnvk:"thread_2",xcgery:"thread_3",czboum:"thread_4",hansrn:"thread_5"},y={name:"IchoWriteComponent",props:{commentNum:{type:Number,required:!0}},data:function(){return{isSelect:!1,customStyle:f({},v),text:"",inputText:""}},mounted:function(){var t=window.navigator.userAgent.toLowerCase();if(t.includes("iphone")||t.includes("ipad")){var e=document.querySelector('meta[name="viewport"]');if(e){var n=e.getAttribute("content");e.setAttribute("content",n+", user-scalable=no")}var o=this.$refs.float,r=window.innerHeight;window.visualViewport.addEventListener("resize",(function(){var t=r-window.innerHeight;o.style.transform="translate(0px,"+t+"px)"}))}},methods:{clickIcho:function(){this.isSelect||(this.isSelect=!this.isSelect,this.customStyle.top="10vh",this.customStyle.left=0,this.customStyle.width="100vw",this.customStyle.transform="rotate(0deg)",this.$emit("leaf-select-event",!0,-2),this.$refs.edit.focus(),this.text="",this.$refs.edit.innerText=this.inputText)},inputEvent:function(){this.inputText=this.$refs.edit.innerText},closeIcho:function(){this.isSelect=!1,this.customStyle=f({},v),this.$emit("leaf-select-event",!1,-2),this.text="",this.inputText=this.$refs.edit.innerText,this.$refs.edit.innerText=""},sendMessage:function(){if(this.inputText=this.$refs.edit.innerText,""!==this.inputText){var t=Object(h.a)(),e=j[this.$route.params.id];Object(h.d)(Object(h.c)(t,e+"/"+this.$props.commentNum),{comment:this.inputText,timestamp:d()(new Date).format("YYYY-MM-DD HH:mm:ss")}),this.$refs.edit.innerText="",this.closeIcho()}}}},w=(n(806),n(70)),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;return e("div",{ref:"float",staticClass:"write-component",class:{"is-select":t.isSelect}},[e("div",{staticClass:"icho",style:{left:t.customStyle.left,top:t.customStyle.top,transform:t.customStyle.transform,width:t.customStyle.width},on:{click:t.clickIcho}},[e("img",{attrs:{src:"icho.png",alt:"",srcset:""}}),t._v(" "),e("div",{staticClass:"text-container"},[e("span",{ref:"edit",staticClass:"text-area",attrs:{contenteditable:"editable"},on:{keypress:t.inputEvent}},[t._v(t._s(t.text)+"\n      ")]),t._v(" "),e(r.a,{staticClass:"pencil-icon",attrs:{"x-large":"",color:"brown darken-4"}},[t._v("\n        mdi-pencil\n      ")])],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelect,expression:"isSelect"}]},[e(o.a,{staticClass:"close-button",attrs:{fab:"",color:"white",elevation:"2"},on:{click:t.closeIcho}},[e(r.a,[t._v("mdi-close")])],1),t._v(" "),e(o.a,{staticClass:"send-button",attrs:{fab:"",color:"yellow darken-2",elevation:"2"},on:{click:t.sendMessage}},[e(r.a,[t._v("mdi-send")])],1)],1)])}),[],!1,null,"f68d2c24",null);e.default=component.exports},803:function(t,e,n){var content=n(812);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("70e3358b",content,!0,{sourceMap:!1})},804:function(t,e,n){"use strict";n(664)},805:function(t,e,n){var o=n(88)(!1);o.push([t.i,".is-select[data-v-3c2cb8bd]{position:absolute;z-index:2}.is-select .icho .text-area[data-v-3c2cb8bd]{font-size:1rem;color:grey}.icho[data-v-3c2cb8bd]{position:absolute;height:auto;transition:all .8s}.icho .text-area[data-v-3c2cb8bd]{position:absolute;display:flex;top:30%;left:17%;width:65%;height:16%;text-align:center;align-items:center;justify-content:center;line-height:100%;font-size:.8rem;color:grey}img[data-v-3c2cb8bd]{width:100%}",""]),t.exports=o},806:function(t,e,n){"use strict";n(665)},807:function(t,e,n){var o=n(88)(!1);o.push([t.i,".write-component[data-v-f68d2c24]{transition:.5s}.is-select[data-v-f68d2c24]{position:absolute;z-index:2}.is-select .icho .text-container .text-area[data-v-f68d2c24]{font-size:.8rem;overflow:visible}.is-select .icho .text-container .pencil-icon[data-v-f68d2c24]{display:none}.icho[data-v-f68d2c24]{position:absolute;height:auto;transition:all .8s}.icho .text-container[data-v-f68d2c24]{position:absolute;display:flex;top:30%;left:17%;width:65%;height:16%;justify-content:center}.icho .text-container .text-area[data-v-f68d2c24]{line-height:100%;color:grey;margin:auto 0;width:auto;height:.8rem;font-size:.8rem;overflow:hidden}.icho .text-container .text-area[data-v-f68d2c24]:focus{outline:none}img[data-v-f68d2c24]{width:100%}.pencil-icon[data-v-f68d2c24]{color:brown;font-size:1.5rem}.close-button[data-v-f68d2c24]{left:30vw}.close-button[data-v-f68d2c24],.send-button[data-v-f68d2c24]{position:absolute;padding:20px;top:70vh;z-index:2;transform:translate(-50%)}.send-button[data-v-f68d2c24]{left:70vw;color:#e89f21}.v-enter-active[data-v-f68d2c24]{transition:opacity .8s}.v-leave-active[data-v-f68d2c24]{transition:opacity .5s}.v-enter[data-v-f68d2c24],.v-leave-to[data-v-f68d2c24]{opacity:0}",""]),t.exports=o},808:function(t,e,n){var content=n(816);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("4b395aaa",content,!0,{sourceMap:!1})},810:function(t,e,n){var map={"./af":666,"./af.js":666,"./ar":667,"./ar-dz":668,"./ar-dz.js":668,"./ar-kw":669,"./ar-kw.js":669,"./ar-ly":670,"./ar-ly.js":670,"./ar-ma":671,"./ar-ma.js":671,"./ar-sa":672,"./ar-sa.js":672,"./ar-tn":673,"./ar-tn.js":673,"./ar.js":667,"./az":674,"./az.js":674,"./be":675,"./be.js":675,"./bg":676,"./bg.js":676,"./bm":677,"./bm.js":677,"./bn":678,"./bn-bd":679,"./bn-bd.js":679,"./bn.js":678,"./bo":680,"./bo.js":680,"./br":681,"./br.js":681,"./bs":682,"./bs.js":682,"./ca":683,"./ca.js":683,"./cs":684,"./cs.js":684,"./cv":685,"./cv.js":685,"./cy":686,"./cy.js":686,"./da":687,"./da.js":687,"./de":688,"./de-at":689,"./de-at.js":689,"./de-ch":690,"./de-ch.js":690,"./de.js":688,"./dv":691,"./dv.js":691,"./el":692,"./el.js":692,"./en-au":693,"./en-au.js":693,"./en-ca":694,"./en-ca.js":694,"./en-gb":695,"./en-gb.js":695,"./en-ie":696,"./en-ie.js":696,"./en-il":697,"./en-il.js":697,"./en-in":698,"./en-in.js":698,"./en-nz":699,"./en-nz.js":699,"./en-sg":700,"./en-sg.js":700,"./eo":701,"./eo.js":701,"./es":702,"./es-do":703,"./es-do.js":703,"./es-mx":704,"./es-mx.js":704,"./es-us":705,"./es-us.js":705,"./es.js":702,"./et":706,"./et.js":706,"./eu":707,"./eu.js":707,"./fa":708,"./fa.js":708,"./fi":709,"./fi.js":709,"./fil":710,"./fil.js":710,"./fo":711,"./fo.js":711,"./fr":712,"./fr-ca":713,"./fr-ca.js":713,"./fr-ch":714,"./fr-ch.js":714,"./fr.js":712,"./fy":715,"./fy.js":715,"./ga":716,"./ga.js":716,"./gd":717,"./gd.js":717,"./gl":718,"./gl.js":718,"./gom-deva":719,"./gom-deva.js":719,"./gom-latn":720,"./gom-latn.js":720,"./gu":721,"./gu.js":721,"./he":722,"./he.js":722,"./hi":723,"./hi.js":723,"./hr":724,"./hr.js":724,"./hu":725,"./hu.js":725,"./hy-am":726,"./hy-am.js":726,"./id":727,"./id.js":727,"./is":728,"./is.js":728,"./it":729,"./it-ch":730,"./it-ch.js":730,"./it.js":729,"./ja":731,"./ja.js":731,"./jv":732,"./jv.js":732,"./ka":733,"./ka.js":733,"./kk":734,"./kk.js":734,"./km":735,"./km.js":735,"./kn":736,"./kn.js":736,"./ko":737,"./ko.js":737,"./ku":738,"./ku.js":738,"./ky":739,"./ky.js":739,"./lb":740,"./lb.js":740,"./lo":741,"./lo.js":741,"./lt":742,"./lt.js":742,"./lv":743,"./lv.js":743,"./me":744,"./me.js":744,"./mi":745,"./mi.js":745,"./mk":746,"./mk.js":746,"./ml":747,"./ml.js":747,"./mn":748,"./mn.js":748,"./mr":749,"./mr.js":749,"./ms":750,"./ms-my":751,"./ms-my.js":751,"./ms.js":750,"./mt":752,"./mt.js":752,"./my":753,"./my.js":753,"./nb":754,"./nb.js":754,"./ne":755,"./ne.js":755,"./nl":756,"./nl-be":757,"./nl-be.js":757,"./nl.js":756,"./nn":758,"./nn.js":758,"./oc-lnc":759,"./oc-lnc.js":759,"./pa-in":760,"./pa-in.js":760,"./pl":761,"./pl.js":761,"./pt":762,"./pt-br":763,"./pt-br.js":763,"./pt.js":762,"./ro":764,"./ro.js":764,"./ru":765,"./ru.js":765,"./sd":766,"./sd.js":766,"./se":767,"./se.js":767,"./si":768,"./si.js":768,"./sk":769,"./sk.js":769,"./sl":770,"./sl.js":770,"./sq":771,"./sq.js":771,"./sr":772,"./sr-cyrl":773,"./sr-cyrl.js":773,"./sr.js":772,"./ss":774,"./ss.js":774,"./sv":775,"./sv.js":775,"./sw":776,"./sw.js":776,"./ta":777,"./ta.js":777,"./te":778,"./te.js":778,"./tet":779,"./tet.js":779,"./tg":780,"./tg.js":780,"./th":781,"./th.js":781,"./tk":782,"./tk.js":782,"./tl-ph":783,"./tl-ph.js":783,"./tlh":784,"./tlh.js":784,"./tr":785,"./tr.js":785,"./tzl":786,"./tzl.js":786,"./tzm":787,"./tzm-latn":788,"./tzm-latn.js":788,"./tzm.js":787,"./ug-cn":789,"./ug-cn.js":789,"./uk":790,"./uk.js":790,"./ur":791,"./ur.js":791,"./uz":792,"./uz-latn":793,"./uz-latn.js":793,"./uz.js":792,"./vi":794,"./vi.js":794,"./x-pseudo":795,"./x-pseudo.js":795,"./yo":796,"./yo.js":796,"./zh-cn":797,"./zh-cn.js":797,"./zh-hk":798,"./zh-hk.js":798,"./zh-mo":799,"./zh-mo.js":799,"./zh-tw":800,"./zh-tw.js":800};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}o.keys=function(){return Object.keys(map)},o.resolve=r,t.exports=o,o.id=810},811:function(t,e,n){"use strict";n(803)},812:function(t,e,n){var o=n(88)(!1);o.push([t.i,".intro-component[data-v-67598470]{position:absolute;width:100vw;height:100vh}@supports(-webkit-touch-callout:none){.intro-component[data-v-67598470]{height:-webkit-fill-available}}.intro-background[data-v-67598470]{position:fixed;z-index:10;height:100%;width:100%;background-color:#fff;opacity:0}.intro-text[data-v-67598470]{position:relative;color:grey;text-align:center;z-index:20;opacity:1}.intro-text-ja[data-v-67598470]{font-size:2rem;font-weight:400;line-height:3;margin:15vh 0 6vh}.intro-text-en[data-v-67598470]{font-size:1rem;font-weight:500}.intro-background-enter-active[data-v-67598470]{transition:opacity 4s ease-in}.intro-background-enter[data-v-67598470]{opacity:1}.intro-component-leave-active[data-v-67598470]{transition:opacity 1s;opacity:1;z-index:10}.intro-component-leave-to[data-v-67598470]{opacity:0}",""]),t.exports=o},815:function(t,e,n){"use strict";n(808)},816:function(t,e,n){var o=n(88)(!1);o.push([t.i,".icho-area[data-v-63024240]{position:relative;overflow:hidden;top:0;left:0;width:100vw;height:100vh}@supports(-webkit-touch-callout:none){.icho-area[data-v-63024240]{height:-webkit-fill-available}}.background-overlay[data-v-63024240]{position:absolute;top:0;left:0;width:100vw;height:100vh;background-color:#fff;opacity:.5;box-shadow:0 0 100px 100px #fff;z-index:1;transition:opacity .5s}@supports(-webkit-touch-callout:none){.background-overlay[data-v-63024240]{height:-webkit-fill-available}}.introduction[data-v-63024240]{position:relative;z-index:10}.overlay-enter-active[data-v-63024240],.overlay-leave-active[data-v-63024240]{transition:opacity .5s}.overlay-enter[data-v-63024240],.overlay-leave-to[data-v-63024240]{opacity:0}",""]),t.exports=o},820:function(t,e,n){var content=n(830);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("4552802e",content,!0,{sourceMap:!1})},826:function(t,e,n){"use strict";n.r(e);var o={name:"IntroComponent"},r=(n(811),n(70)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"intro-component"}},[e("div",{staticClass:"intro-component",on:{click:function(e){return t.$emit("close")}}},[e("transition",{attrs:{name:"intro-background",appear:""}},[e("div",{staticClass:"intro-background"})]),t._v(" "),e("div",{staticClass:"intro-text"},[e("div",{staticClass:"intro-text-ja"},[t._v("あなたの言葉を"),e("br"),t._v("残してみませんか？")]),t._v(" "),e("div",{staticClass:"intro-text-en"},[t._v('Would you like to "leaf" your message?')])])],1)])}),[],!1,null,"67598470",null);e.default=component.exports},827:function(t,e,n){"use strict";n.r(e);var o=n(801),r=n(802),c={name:"IchoArea",components:{IchoComponent:o.default,IchoWriteComponent:r.default},props:{commentData:{type:Array,default:function(){return[]},required:!0},customStyle:{type:String,default:"",required:!1}},data:function(){return{isActive:!1,activeIndex:-1}},methods:{leafSelectEvent:function(t,e){this.isActive=t,this.activeIndex=e}}},l=(n(815),n(70)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"icho-area"},[e("transition",{attrs:{name:"overlay"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],class:{"background-overlay":t.isActive}})]),t._v(" "),t._l(t.$props.commentData,(function(n,o){return e("IchoComponent",{directives:[{name:"show",rawName:"v-show",value:o>=t.$props.commentData.length-50,expression:"index >= $props.commentData.length - 50"}],key:o,ref:"child",refInFor:!0,attrs:{comment:n.comment,index:o},on:{"leaf-select-event":t.leafSelectEvent}})})),t._v(" "),e("IchoWriteComponent",{ref:"write",attrs:{"comment-num":t.$props.commentData.length},on:{"leaf-select-event":t.leafSelectEvent}})],2)}),[],!1,null,"63024240",null);e.default=component.exports;installComponents(component,{IchoComponent:n(801).default,IchoWriteComponent:n(802).default})},829:function(t,e,n){"use strict";n(820)},830:function(t,e,n){var o=n(88)(!1);o.push([t.i,"body[data-v-3c013cb0]{opacity:1}.loading[data-v-3c013cb0]{font-size:30px;font-weight:300;color:grey;text-align:center;margin-top:45vh}footer[data-v-3c013cb0]{position:fixed;right:20px;bottom:20px;text-align:right;font-size:.8rem;color:grey}",""]),t.exports=o},848:function(t,e,n){"use strict";n.r(e);n(43),n(10);var o=n(0),r=n(663),c=n.n(r),l=n(809),d={mgpqhc:"thread_1",kegnvk:"thread_2",xcgery:"thread_3",czboum:"thread_4",hansrn:"thread_5"},h=o.a.extend({name:"IdPage",data:function(){return{storedData:[],newComment:"",commentNum:0,threadName:"",validFlag:!1,modalOpen:!0,isInitialView:!0}},mounted:function(){this.$route.params.id in d&&(this.threadName=d[this.$route.params.id],this.validFlag=!0,this.loadAllData())},methods:{loadAllData:function(){var t=this,e=Object(l.a)(),n=Object(l.c)(e,this.threadName);Object(l.b)(n,(function(e){var data=e.val();null!=data&&(t.storedData=data.filter((function(data){return data})),t.commentNum=data.length)}))},clicks:function(){this.writeComment(this.newComment)},writeComment:function(t){if(""!==t){var e=Object(l.a)();Object(l.d)(Object(l.c)(e,this.threadName+"/"+this.commentNum),{comment:t,timestamp:c()(new Date).format("YYYY-MM-DD HH:mm:ss")})}}}}),m=(n(829),n(70)),component=Object(m.a)(h,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[t.validFlag?e("div",[e("IntroComponent",{directives:[{name:"show",rawName:"v-show",value:t.isInitialView,expression:"isInitialView"}],on:{close:function(e){t.isInitialView=!1}}}),t._v(" "),e("icho-area",{attrs:{"comment-data":t.storedData}}),t._v(" "),e("footer",[t._v("東京大学制作展2022 一葉")])],1):e("div",{staticClass:"loading"},[t._v("Loading……")])])}),[],!1,null,"3c013cb0",null);e.default=component.exports;installComponents(component,{IntroComponent:n(826).default,IchoArea:n(827).default})}}]);